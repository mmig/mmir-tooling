define(function(){var e=function(e){console.log("JS/CC loaded/finished! "+(null!=e?"number"==typeof e?0<e?"number of ERRORs "+e:"":"ERROR "+e:""))};function r(e){console.error("JS/CC ERROR: "+e)}function t(e){console.warn("JS/CC WARNING: "+e)}function n(e){console.log("JS/CC INFO: "+e)}var v,_,d,C,m,S,E,a,o,i,c,f,l,R,h,L,T=r,g=t,s=n,A="0.30",x=0,P=1,I=0,N=2,w=0,O=1,j=2,F=3,M="%% = %1;",y=0,u=2,k=0,W=255,D=0,p=1,J=2;function b(){}function G(){}function H(){}function U(){}function B(){}function Y(){}function $(){}function q(e,r,t){var n,a;if(0!=t.length){for(e==u?(s('<table class="debug" cellpadding="0" cellspacing="0">'),s("<tr>"),s('<td class="tabtitle" colspan="2">'+r+"</td>"),s("</tr>"),s("<tr>"),s('<td class="coltitle" width="35%">Lookahead</td>'),s('<td class="coltitle" width="65%">Production</td>'),s("</tr>")):e==y&&s("--- "+r+" ---"),n=0;n<t.length;n++)if(e==u){for(s("<tr>"),s("<td>"),a=0;a<t[n].lookahead.length;a++)s(" <b>"+v[t[n].lookahead[a]].label+"</b> ");for(s("</td>"),s("<td>"),s(v[_[t[n].prod].lhs].label+" -&gt; "),a=0;a<_[t[n].prod].rhs.length;a++)a==t[n].dot_offset&&s("."),v[_[t[n].prod].rhs[a]].kind==P?s(" <b>"+v[_[t[n].prod].rhs[a]].label+"</b> "):s(" "+v[_[t[n].prod].rhs[a]].label+" ");a==t[n].dot_offset&&s("."),s("</td>"),s("</tr>")}else if(e==y){var o=new String;for(a=(o+=v[_[t[n].prod].lhs].label).length;a<20;a++)o+=" ";for(o+=" -> ",a=0;a<_[t[n].prod].rhs.length;a++)a==t[n].dot_offset&&(o+="."),v[_[t[n].prod].rhs[a]].kind==P?o+=" #"+v[_[t[n].prod].rhs[a]].label+" ":o+=" "+v[_[t[n].prod].rhs[a]].label+" ";for(a==t[n].dot_offset&&(o+="."),a=o.length;a<60;a++)o+=" ";for(o+="{ ",a=0;a<t[n].lookahead.length;a++)o+="#"+v[t[n].lookahead[a]].label+" ";s(o+="}")}e==u&&s("</table>")}}function V(){var e,r=0,t=0;do{t=r;for(var n=r=0;n<v.length;n++)if(v[n].kind==x)for(var a=0;a<v[n].prods.length;a++){e=!1;for(var o=0;o<_[v[n].prods[a]].rhs.length&&(v[n].first=pe(v[n].first,v[_[v[n].prods[a]].rhs[o]].first),e=v[_[v[n].prods[a]].rhs[o]].nullable);o++);r+=v[n].first.length,o==_[v[n].prods[a]].rhs.length&&(e=!0),v[n].nullable|=e}}while(r!=t)}function X(e,r,t){var n,a=!0;for(n=t;n<r.rhs.length&&(e.lookahead=pe(e.lookahead,v[r.rhs[n]].first),v[r.rhs[n]].nullable||(a=!1),a);n++);return a}function z(e){var r,t,n,a=new String,o=0;for(e==u?(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="2">Pop-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">Left-hand side</td>',a+='<td class="coltitle">Number of symbols to pop</td>',a+="</tr>"):1==e&&(a+="/* Pop-Table */\n",a+="var pop_tab = new Array(\n"),r=0;r<_.length;r++)e==u?(a+="<tr>",a+='<td style="border-right: 1px solid lightgray;">'+_[r].lhs+"</td>",a+="<td>"+_[r].rhs.length+"</td>",a+="</tr>"):1==e&&(a+="\tnew Array( "+_[r].lhs+"/* "+v[_[r].lhs].label+" */, "+_[r].rhs.length+" )"+(r<_.length-1?",\n":"\n"));if(e==u?a+="</table>":1==e&&(a+=");\n\n"),e==u){for(r=0;r<v.length;r++)v[r].kind==P&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Action-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==P&&(a+="<td><b>"+v[r].label+"</b></td>");for(a+="</tr>",r=0;r<d.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==P&&(a+="<td>",null!=(n=he(d[r].actionrow,t))&&(a+=n<=0?"r"+-1*n:"s"+n),a+="</td>");a+="</tr>"}a+="</table>"}else if(1==e){for(a+="/* Action-Table */\n",a+="var act_tab = new Array(\n",r=0;r<d.length;r++){for(a+="\t/* State "+r+" */ new Array( ",t=0;t<d[r].actionrow.length;t++)a+=d[r].actionrow[t][0]+'/* "'+v[d[r].actionrow[t][0]].label+'" */,'+d[r].actionrow[t][1]+(t<d[r].actionrow.length-1?" , ":"");a+=" )"+(r<d.length-1?",\n":"\n")}a+=");\n\n"}if(e==u){for(r=0;r<v.length;r++)v[r].kind==x&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Goto-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==x&&(a+="<td>"+v[r].label+"</td>");for(a+="</tr>",r=0;r<d.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==x&&(a+="<td>",null!=(n=he(d[r].gotorow,t))&&(a+=n),a+="</td>");a+="</tr>"}a+="</table>"}else if(1==e){for(a+="/* Goto-Table */\n",a+="var goto_tab = new Array(\n",r=0;r<d.length;r++){for(a+="\t/* State "+r+" */",a+=" new Array( ",t=0;t<d[r].gotorow.length;t++)a+=d[r].gotorow[t][0]+"/* "+v[d[r].gotorow[t][0]].label+" */,"+d[r].gotorow[t][1]+(t<d[r].gotorow.length-1?" , ":"");a+=" )"+(r<d.length-1?",\n":"\n")}a+=");\n\n"}return a}function K(e){var r,t,n,a,o,l,s=new String;for(s+="switch( state )\n",s+="{\n",r=0;r<e.length;r++){for(s+="\tcase "+r+":\n",l=!0,t=0;t<e.length;t++){for(a=-1,o=!0,n=0;n<e[r].line.length+1;n++)n<e[r].line.length&&e[r].line[n]==t?-1==a&&(a=n):-1<a&&(o?(s+="\t\t",l||(s+="else "),s+="if( ",l=o=!1):s+=" || ",s+=a==n-1?"info.src.charCodeAt( pos ) == "+a:"( info.src.charCodeAt( pos ) >= "+a+" && info.src.charCodeAt( pos ) <= "+(n-1)+" )",a=-1,n--);o||(s+=" ) state = "+t+";\n")}s+="\t\t",l||(s+="else "),s+="state = -1;\n",-1<e[r].accept&&(s+="\t\tmatch = "+e[r].accept+";\n",s+="\t\tmatch_pos = pos;\n"),s+="\t\tbreak;\n\n"}return s+="}\n\n"}function Q(){var e,r=new String;for(r+="/* Symbol labels */\n",r+="var labels = new Array(\n",e=0;e<v.length;e++)r+='\t"'+v[e].label+'" ',v[e].kind==P?r+="/* Terminal symbol */":r+="/* Non-terminal symbol */",e<v.length-1&&(r+=","),r+="\n";return r+=");\n\n"}function Z(){var e,r,t,n,a,o=new String,l=new RegExp("%match|%offset|%source"),s=0;for(o+="switch( match )\n",o+="{\n",e=0;e<v.length;e++)if(v[e].kind==P&&""!=v[e].code){for(o+="\tcase "+e+":\n",o+="\t\t{\n",n=new String,t=r=0;r<v[e].code.length;r++,t++)(a=l.exec(v[e].code.substr(r,v[e].code.length)))&&0==a.index?("%match"==a[0]?n+="info.att":"%offset"==a[0]?n+="( info.offset - info.att.length )":"%source"==a[0]&&(n+="info.src"),r+=a[0].length-1,t=n.length):n+=v[e].code.charAt(r);o+="\t\t"+n+"\n",o+="\t\t}\n",o+="\t\tbreak;\n\n",s++}return o+="}\n\n",0==s?new String:o}function ee(){var e,r,t,n,a,o,l=new String,s=new RegExp("%[0-9]+|%%");for(l+="switch( act )\n",l+="{\n",t=0;t<_.length;t++){for(l+="\tcase "+t+":\n",l+="\t{\n",e=new String,a=n=0;n<_[t].code.length;n++,a++)(r=s.exec(_[t].code.substr(n,_[t].code.length)))&&0==r.index?("%%"==r[0]?e+="rval":(o=parseInt(r[0].substr(1,r[0].length)),e+="vstack[ vstack.length - "+(o=_[t].rhs.length-o+1)+" ]"),n+=r[0].length-1,a=e.length):e+=_[t].code.charAt(n);l+="\t\t"+e+"\n",l+="\t}\n",l+="\tbreak;\n"}return l+="}\n\n"}function re(){for(var e=-1,r=0;r<v.length;r++)if(1==v[r].special){e=r;break}return-1==e&&T("No EOF-symbol defined - This might not be possible (bug!)"),e}function te(){return d.length+1}function ne(){return m}function ae(){var e=new U;return e.kernel=new Array,e.epsilon=new Array,e.actionrow=new Array,e.gotorow=new Array,e.done=!1,e.closed=!1,d.push(e),e}function oe(e){var r=new H;return r.prod=e,r.dot_offset=0,r.lookahead=new Array,r}function le(e,r,t){var n;for(n=0;n<e.length;n++)if(e[n][0]==r)return e;return e.push(new Array(r,t)),e}function se(e,r,t){var n;for(n=0;n<e.length;n++)if(e[n][0]==r)return e[n][1]=t,e;return e}function ce(e,r){var t;for(t=0;t<e.length;t++)if(e[t][0]==r)return e.splice(t,1),e;return e}function he(e,r){var t;for(t=0;t<e.length;t++)if(e[t][0]==r)return e[t][1]}function de(){for(var e=0;e<d.length;e++)if(0==d[e].done)return e;return-1}function ie(e,r,t){t||(t=I);for(var n=0;n<v.length;n++)if(v[n].label.toString()==e.toString()&&v[n].kind==r&&v[n].special==t)return n;return-1}function fe(e,r,t){var n;if(-1<(n=ie(e,r,t)))return v[n].id;var a=new b;return a.label=e,a.kind=r,a.prods=new Array,a.nullable=!1,a.id=v.length,a.code=new String,a.assoc=w,a.level=0,a.special=t,a.defined=!1,a.first=new Array,r==P&&a.first.push(a.id),v.push(a),a.id}function ge(e,r){var t,n,a=0;if(e.length!=r.length)return!1;for(t=0;t<e.length;t++)for(n=0;n<r.length;n++)if(e[t].prod==r[n].prod&&e[t].dot_offset==r[n].dot_offset){a++;break}return a==e.length}function Ae(e,r){var t,n,a,o,l=0,s=0;for(t=0;t<e.length;t++)if(e[t].dot_offset<_[e[t].prod].rhs.length&&v[_[e[t].prod].rhs[e[t].dot_offset]].kind==x)for(n=0;n<v[_[e[t].prod].rhs[e[t].dot_offset]].prods.length;n++){for(a=0;a<r.length&&r[a].prod!=v[_[e[t].prod].rhs[e[t].dot_offset]].prods[n];a++);a==r.length&&(o=oe(v[_[e[t].prod].rhs[e[t].dot_offset]].prods[n]),r.push(o),l++),s=r[a].lookahead.length,X(r[a],_[e[t].prod],e[t].dot_offset+1)&&(r[a].lookahead=pe(r[a].lookahead,e[t].lookahead)),l+=r[a].lookahead.length-s}return l}function we(e){for(var r,t,n,a,o,l,s=new Array,c=0,h=0;(c=Ae(0==(h=c)?d[e].kernel:s,s))!=h;);for(a=0;a<d[e].kernel.length;a++)if(d[e].kernel[a].dot_offset<_[d[e].kernel[a].prod].rhs.length)for(s.unshift(new H),s[0].prod=d[e].kernel[a].prod,s[0].dot_offset=d[e].kernel[a].dot_offset,s[0].lookahead=new Array,o=0;o<d[e].kernel[a].lookahead.length;o++)s[0].lookahead[o]=d[e].kernel[a].lookahead[o];for(a=0;a<s.length;a++)if(0==_[s[a].prod].rhs.length){for(o=0;o<d[e].epsilon.length&&(d[e].epsilon[o].prod!=s[a].prod||d[e].epsilon[o].dot_offset!=s[a].dot_offset);o++);o==d[e].epsilon.length&&d[e].epsilon.push(s[a]),s.splice(a,1)}for(;0<s.length;){for(t=new Array,r=new Array,n=-1,a=0;a<s.length;a++)0==t.length&&(n=_[s[a].prod].rhs[s[a].dot_offset]),s[a].dot_offset<_[s[a].prod].rhs.length&&(_[s[a].prod].rhs[s[a].dot_offset]==n?(s[a].dot_offset++,t.push(s[a])):r.push(s[a]));if(0<t.length){for(a=0;a<d.length&&!ge(d[a].kernel,t);a++);for(a==d.length&&(ae().kernel=t),o=c=l=0;o<t.length;o++)l+=d[a].kernel[o].lookahead.length,d[a].kernel[o].lookahead=pe(d[a].kernel[o].lookahead,t[o].lookahead),c+=d[a].kernel[o].lookahead.length;if(l!=c&&(d[a].done=!1),!d[e].closed)for(o=0;o<t.length;o++)t[o].dot_offset-1<_[t[o].prod].rhs.length&&(v[_[t[o].prod].rhs[t[o].dot_offset-1]].kind==P?(d[e].actionrow=le(d[e].actionrow,_[t[o].prod].rhs[t[o].dot_offset-1],a),i++):(d[e].gotorow=le(d[e].gotorow,_[t[o].prod].rhs[t[o].dot_offset-1],a),f++))}s=r}d[e].closed=!0}function ye(e,r){var t,n,a,o,l;for(t=0;t<e.length;t++)if(e[t].dot_offset==_[e[t].prod].rhs.length)for(n=0;n<e[t].lookahead.length;n++)if(l=!0,null==(o=a=he(d[r].actionrow,e[t].lookahead[n])))d[r].actionrow=le(d[r].actionrow,e[t].lookahead[n],-1*e[t].prod),c++;else{var s=new String;s=0<a?((0<v[e[t].lookahead[n]].level||0<_[e[t].prod].level)&&(v[e[t].lookahead[n]].level==_[e[t].prod].level?v[e[t].lookahead[n]].assoc==O?o=-1*e[t].prod:v[e[t].lookahead[n]].assoc==F&&(ce(d[r].actionrow,e[t].lookahead[n]),g("Removing nonassociative symbol '"+v[e[t].lookahead[n]].label+"' in state "+r),l=!1):v[e[t].lookahead[n]].level<_[e[t].prod].level&&(o=-1*e[t].prod)),"Shift"):(o=-1*o<e[t].prod?o:-1*e[t].prod,"Reduce"),s+="-reduce conflict on symbol '"+v[e[t].lookahead[n]].label+"' in state "+r,s+="\n         Conflict resolved by "+(o<=0?"reducing with production":"shifting to state")+" "+(o<=0?-1*o:o),l&&g(s),o!=a&&se(d[r].actionrow,e[t].lookahead[n],o)}}function ue(e){var r,t,n;for(t=oe(0),n=fe("$",P,1),t.lookahead.push(n),(n=ae()).kernel.push(t);0<=(r=de());)d[r].done=!0,we(r);for(r=0;r<d.length;r++)ye(d[r].kernel,r),ye(d[r].epsilon,r);if(e){for(r=0;r<d.length;r++)q(0==l?y:u,"states["+r+"].kernel",d[r].kernel),q(0==l?y:u,"states["+r+"].epsilon",d[r].epsilon);s(d.length+" States created.")}}function pe(e,r){var t,n;for(t=0;t<r.length;t++){for(n=0;n<e.length&&r[t]!=e[n];n++);n==e.length&&e.push(r[t])}return e}function be(e){var r;R=1,l=e,v=new Array,_=new Array,d=new Array,C=new Array,new Array,new Array,fe("",x,I),v[0].defined=!0,(r=new G).lhs=0,r.rhs=new Array,r.code=new String("%% = %1;"),v[0].prods.push(_.length),_.push(r),m=-1,!!(a=0),h=f=c=i=o=0,S=new String,E=new String}function Ce(e,r,t){return!(!e&&r<0)&&(t?e[Math.floor(r/8)]|=1<<r%8:e[Math.floor(r/8)]&=255^1<<r%8,!0)}function ke(e,r){return!e&&r<0?0:e[Math.floor(r/8)]&1<<r%8}function ve(){var e;for(e=0;e<v.length;e++)v[e].kind==x&&0==v[e].defined&&T('Call to undefined non-terminal "'+v[e].label+'"')}function _e(){var e,r,t,n,a=new Array,o=new Array;for(e=0;e<v.length&&v[e].kind!=x;e++);if(e!=v.length){for(a.push(e),o.push(e);0<a.length;)for(e=a.pop(),r=0;r<v[e].prods.length;r++)for(t=0;t<_[v[e].prods[r]].rhs.length;t++)if(v[_[v[e].prods[r]].rhs[t]].kind==x){for(n=0;n<o.length&&o[n]!=_[v[e].prods[r]].rhs[t];n++);n==o.length&&(a.push(_[v[e].prods[r]].rhs[t]),o.push(_[v[e].prods[r]].rhs[t]))}for(e=0;e<v.length;e++)if(v[e].kind==x){for(r=0;r<o.length&&o[r]!=e;r++);r==o.length&&g('Unreachable non-terminal "'+v[e].label+'"')}}}function me(e){var r=new Y;return r.line=new Array(W),r.accept=-1,r.nfa_set=new Array,r.done=!1,r.group=-1,e.push(r),e.length-1}function Se(e,r){var t,n;for(t=0;t<e.length;t++)if(e[t].nfa_set.length==r.length){for(n=0;n<e[t].nfa_set.length&&e[t].nfa_set[n]==r[n];n++);if(n==e[t].nfa_set.length)return t}return-1}function Ee(e){for(var r=0;r<e.length;r++)if(!e[r].done)return r;return-1}function Re(e,r,t){for(var n=new Array,a=-1;r[a=e.pop()].edge==J&&ke(r[a].ccl,t)&&n.push(r[a].follow),0<e.length;);return n}function Le(e,r){for(var t=new Array,n=new Array,a=-1,o=0;o<e.length;o++)t.push(e[o]);do{if(0<=r[a=t.pop()].accept&&n.push(r[a].accept),r[a].edge==p){if(-1<r[a].follow){for(o=0;o<e.length&&e[o]!=r[a].follow;o++);o==e.length&&(e.push(r[a].follow),t.push(r[a].follow))}if(-1<r[a].follow2){for(o=0;o<e.length&&e[o]!=r[a].follow2;o++);o==e.length&&(e.push(r[a].follow2),t.push(r[a].follow2))}}}while(0<t.length);return n.sort()}function Te(e){var r,t,n=new Array,a=new Array,o=me(n),l=-1;if(0==e.length)return n;for(a.push(0),Le(a,e),n[o].nfa_set=n[o].nfa_set.concat(a);-1<(o=Ee(n));){n[o].done=!0,t=-1;for(var s=0;s<n[o].nfa_set.length;s++)(-1<e[n[o].nfa_set[s]].accept&&e[n[o].nfa_set[s]].weight<t||-1==t)&&(n[o].accept=e[n[o].nfa_set[s]].accept,t=e[n[o].nfa_set[s]].weight);for(s=k;s<W;s++)0<(r=Re(r=(r=new Array).concat(n[o].nfa_set),e,s)).length&&Le(r,e),0==r.length?l=-1:-1==(l=Se(n,r))&&(n[l=me(n)].nfa_set=r),n[o].line[s]=l}return n}function xe(e){var r,t,n,a,o=new Array,l=(new Array,new Array),s=new Array,c=0,h=0;if(0==e.length)return s;for(o.push(new Array),t=0;t<e.length;t++)if(-1<e[t].accept){for(n=0;n<l.length&&l[n]!=e[t].accept;n++);n==l.length&&(l.push(e[t].accept),o.push(new Array)),o[n+1].push(t),e[t].group=n+1}else o[0].push(t),e[t].group=0;do{for(c=h,t=0;t<o.length;t++){if(r=new Array,0<o[t].length)for(n=1;n<o[t].length;n++)for(a=k;a<W;a++)if(e[o[t][0]].line[a]!=e[o[t][n]].line[a]&&(-1==e[o[t][0]].line[a]||-1==e[o[t][n]].line[a])||-1<e[o[t][0]].line[a]&&-1<e[o[t][n]].line[a]&&e[e[o[t][0]].line[a]].group!=e[e[o[t][n]].line[a]].group){e[o[t][n]].group=o.length,r=r.concat(o[t].splice(n,1)),n--;break}0<r.length&&(o[o.length]=new Array,o[o.length-1]=o[o.length-1].concat(r),h+=r.length)}}while(c!=h);for(t=0;t<e.length;t++)for(n=k;n<W;n++)-1<e[t].line[n]&&(e[t].line[n]=e[e[t].line[n]].group);for(t=0;t<o.length;t++)s.push(e[o[t][0]]);return s}var Pe,Ie,Ne,Oe=!1,je=new String;function Fe(e){je+=e+"\n"}function Me(e){var r=0,t=-1,n=0,a=0,o=e.offset+1;do{if(r=0,t=-2,a=--o,e.src.length<=a)return 32;do{switch(r){case 0:r=9<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=10||13==e.src.charCodeAt(o)||32==e.src.charCodeAt(o)?1:33==e.src.charCodeAt(o)?2:38==e.src.charCodeAt(o)?3:45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:58==e.src.charCodeAt(o)?5:59==e.src.charCodeAt(o)?6:60==e.src.charCodeAt(o)?7:62==e.src.charCodeAt(o)?8:94==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:34==e.src.charCodeAt(o)?15:35==e.src.charCodeAt(o)?18:39==e.src.charCodeAt(o)?19:47==e.src.charCodeAt(o)?20:91==e.src.charCodeAt(o)?21:-1;break;case 1:r=-1,t=1,n=o;break;case 2:r=-1,t=6,n=o;break;case 3:r=-1,t=10,n=o;break;case 4:r=45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:-1,t=14,n=o;break;case 5:r=-1,t=8,n=o;break;case 6:r=-1,t=7,n=o;break;case 7:r=-1,t=3,n=o;break;case 8:r=-1,t=4,n=o;break;case 9:r=-1,t=5,n=o;break;case 10:r=-1,t=9,n=o;break;case 11:r=-1,t=13,n=o;break;case 12:r=-1,t=2,n=o;break;case 13:r=-1,t=12,n=o;break;case 14:r=-1,t=11,n=o;break;case 15:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1;break;case 16:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1,t=13,n=o;break;case 17:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1,t=12,n=o;break;case 18:r=35==e.src.charCodeAt(o)?12:-1;break;case 19:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 20:r=126==e.src.charCodeAt(o)?24:-1;break;case 21:r=42==e.src.charCodeAt(o)?32:-1;break;case 22:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:34==e.src.charCodeAt(o)?16:92==e.src.charCodeAt(o)?22:-1;break;case 23:r=39==e.src.charCodeAt(o)?17:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 24:r=47==e.src.charCodeAt(o)?25:126==e.src.charCodeAt(o)?26:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 25:r=47==e.src.charCodeAt(o)?24:-1;break;case 26:r=47==e.src.charCodeAt(o)?1:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?24:-1;break;case 27:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:-1;break;case 28:r=93==e.src.charCodeAt(o)?14:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?31:-1;break;case 29:r=93==e.src.charCodeAt(o)?31:-1;break;case 30:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 31:case 32:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:93==e.src.charCodeAt(o)?29:-1;break;case 33:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1}o++}while(-1<r)}while(1==t);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function We(e,r){var t=new Array,n=new Array,a=0;if(L=!0,0<(a+=function(e,r,t){var n,a,o,l,s=new Array,c=new Array,h=0,d=new new Function("","var offset; var src; var att;"),i=new Array(new Array(0,1),new Array(19,5),new Array(15,1),new Array(18,1),new Array(16,2),new Array(16,0),new Array(21,3),new Array(21,3),new Array(21,3),new Array(21,2),new Array(21,2),new Array(22,2),new Array(22,0),new Array(24,3),new Array(24,2),new Array(17,2),new Array(17,0),new Array(26,4),new Array(27,3),new Array(27,1),new Array(28,3),new Array(30,2),new Array(30,2),new Array(30,0),new Array(29,2),new Array(29,0),new Array(31,1),new Array(31,1),new Array(20,2),new Array(20,0),new Array(23,1),new Array(23,1),new Array(25,1)),f=new Array(new Array(3,-29,4,-29,5,-29,6,-29,7,-29,12,-29,13,-29,2,-29,11,-29),new Array(32,0),new Array(2,-5,3,-5,4,-5,5,-5,6,-5,7,-5,12,-5,13,-5),new Array(11,5,3,-2,4,-2,5,-2,6,-2,7,-2,12,-2,13,-2,2,-2),new Array(2,7,3,8,4,9,5,10,6,12,7,-12,12,-12,13,-12),new Array(3,-28,4,-28,5,-28,6,-28,7,-28,12,-28,13,-28,2,-28,11,-28,32,-28,9,-28),new Array(2,-4,3,-4,4,-4,5,-4,6,-4,7,-4,12,-4,13,-4),new Array(11,-16,32,-16,14,-16),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,18,12,20,13,21),new Array(12,20,13,21),new Array(14,27,32,-29,11,-29),new Array(7,28,12,20,13,21),new Array(7,29,12,20,13,21),new Array(7,30,12,20,13,21),new Array(7,-11,12,-11,13,-11),new Array(2,-9,3,-9,4,-9,5,-9,6,-9,7,-9,12,-9,13,-9),new Array(14,27,7,-29,12,-29,13,-29,11,-29),new Array(14,-30,11,-30,7,-30,12,-30,13,-30,2,-30,3,-30,4,-30,5,-30,6,-30,10,-30,9,-30),new Array(14,-31,11,-31,7,-31,12,-31,13,-31,2,-31,3,-31,4,-31,5,-31,6,-31,10,-31,9,-31),new Array(2,-10,3,-10,4,-10,5,-10,6,-10,7,-10,12,-10,13,-10),new Array(11,-15,32,-15,14,-15),new Array(32,-1),new Array(11,5,32,-3),new Array(8,33),new Array(8,-32,11,-32,7,-32,12,-32,13,-32,10,-32,9,-32,14,-32),new Array(2,-6,3,-6,4,-6,5,-6,6,-6,7,-6,12,-6,13,-6),new Array(2,-7,3,-7,4,-7,5,-7,6,-7,7,-7,12,-7,13,-7),new Array(2,-8,3,-8,4,-8,5,-8,6,-8,7,-8,12,-8,13,-8),new Array(11,5,7,-14,12,-14,13,-14),new Array(7,-29,12,-29,13,-29,11,-29),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,5,7,-13,12,-13,13,-13),new Array(9,38,7,39),new Array(7,-19,9,-19),new Array(10,42,14,27,12,20,13,21,11,-23,7,-23,9,-23),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,-17,32,-17,14,-17),new Array(10,-24,11,-24,7,-24,9,-24,14,-24,12,-24,13,-24),new Array(7,-29,9,-29,11,-29),new Array(14,27,12,20,13,21),new Array(10,-26,11,-26,7,-26,9,-26,14,-26,12,-26,13,-26),new Array(10,-27,11,-27,7,-27,9,-27,14,-27,12,-27,13,-27),new Array(7,-18,9,-18),new Array(11,5,7,-20,9,-20),new Array(11,-22,7,-22,9,-22),new Array(11,-21,7,-21,9,-21)),g=new Array(new Array(19,1,15,2,20,3),new Array,new Array(16,4),new Array,new Array(21,6,22,11),new Array,new Array,new Array(17,13),new Array(22,14),new Array(22,15),new Array(22,16),new Array(24,17,23,19),new Array(23,22),new Array(26,23,18,24,20,25,25,26),new Array(24,17,23,19),new Array(24,17,23,19),new Array(24,17,23,19),new Array,new Array,new Array(20,31,25,32),new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array(20,34),new Array(27,35,28,36,29,37),new Array,new Array,new Array,new Array(31,40,30,41,25,43,23,44),new Array(28,45,29,37),new Array,new Array,new Array(20,46),new Array(23,47,25,48),new Array,new Array,new Array,new Array,new Array,new Array),A=new Array("def'","WHITESPACE","##","<",">","^","!",";",":","|","&","CODE","STRING_SINGLE","STRING_DOUBLE","IDENT","header_code","token_assocs","grammar_defs","footer_code","def","code","token_assoc","token_defs","string","token_def","identifier","grammar_def","productions","rhs","sequence","rhs_prec","symbol","$");for(d.offset=0,d.src=e,d.att=new String,r||(r=new Array),t||(t=new Array),s.push(0),c.push(0),o=Me(d);;){n=50;for(var w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(Oe&&0<s.length&&Fe("\nState "+s[s.length-1]+"\n\tLookahead: "+A[o]+' ("'+d.att+'")\n\tAction: '+n+'\n\tSource: "'+d.src.substr(d.offset,30)+(d.offset+30<d.src.length?"...":"")+'"\n\tStack: '+s.join()+"\n\tValue stack: "+c.join()+"\n"),50==n){for(Oe&&Fe("Error detected: There is no reduce or shift on the symbol "+A[o]),h++,r.push(d.offset-d.att.length),t.push(new Array),w=0;w<f[s[s.length-1]].length;w+=2)t[t.length-1].push(A[f[s[s.length-1]][w]]);var y=new Array,u=new Array;for(w=0;w<s.length;w++)y[w]=s[w],u[w]=c[w];for(;50==n&&32!=o;){for(Oe&&Fe("\tError recovery\nCurrent lookahead: "+A[o]+" ("+d.att+")\nAction: "+n+"\n\n"),-1==o&&d.offset++;50==n&&0<s.length&&(s.pop(),c.pop(),0!=s.length);)for(n=50,w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(50!=n)break;for(w=0;w<y.length;w++)s.push(y[w]),c.push(u[w]);o=Me(d)}if(50==n){Oe&&Fe("\tError recovery failed, terminating parse process...");break}Oe&&Fe("\tError recovery succeeded, continuing")}if(0<n)Oe&&Fe("Shifting symbol: "+A[o]+" ("+d.att+")"),s.push(n),c.push(d.att),o=Me(d),Oe&&Fe("\tNew lookahead symbol: "+A[o]+" ("+d.att+")");else{switch(n*=-1,Oe&&Fe("Reducing by producution: "+n),l=void 0,Oe&&Fe("\tPerforming semantic action..."),n){case 0:l=c[c.length-1];break;case 1:l=c[c.length-5];break;case 2:S+=c[c.length-1];break;case 3:E+=c[c.length-1];break;case 4:l=c[c.length-2];break;case 5:l=c[c.length-0];break;case 6:for(R++,w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=R,v[c[c.length-2][w]].assoc=O;break;case 7:for(R++,w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=R,v[c[c.length-2][w]].assoc=j;break;case 8:for(R++,w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=R,v[c[c.length-2][w]].assoc=F;break;case 9:l=c[c.length-2];break;case 10:-1==m?Be(p=c[c.length-1].substr(1,c[c.length-1].length-2),m=fe("WHITESPACE",P,N),"'"!=c[c.length-1].charAt(0)):T("Multiple whitespace definition");break;case 11:c[c.length-2].push(c[c.length-1]),l=c[c.length-2];break;case 12:l=new Array;break;case 13:l=fe(c[c.length-2],P,I);var p=c[c.length-3].substr(1,c[c.length-3].length-2);v[l].code=c[c.length-1],Be(p,v[l].id,"'"!=c[c.length-3].charAt(0));break;case 14:l=fe((p=c[c.length-2].substr(1,c[c.length-2].length-2)).replace(/\\/g,""),P,I),v[l].code=c[c.length-1],Be(p,v[l].id,"'"!=c[c.length-2].charAt(0));break;case 15:l=c[c.length-2];break;case 16:l=c[c.length-0];break;case 17:var b=fe(c[c.length-4],x,I);for(v[b].defined=!0,w=0;w<c[c.length-2].length;w++)_[c[c.length-2][w]].lhs=b,v[b].prods.push(c[c.length-2][w]);L&&(L=!1,v[0].label=v[b].label+"'",_[0].rhs.push(b));break;case 18:(l=(l=new Array).concat(c[c.length-3])).push(c[c.length-1]);break;case 19:(l=new Array).push(c[c.length-1]);break;case 20:var C=new G;if(C.id=_.length,C.rhs=c[c.length-3],C.level=c[c.length-2],C.code=c[c.length-1],""==C.code&&(C.code=new String(M)),0==C.level&&0<C.rhs.length)for(w=C.rhs.length-1;0<=w;w--)if(v[C.rhs[w]].kind==P){C.level=v[C.rhs[w]].level;break}_.push(C),l=C.id;break;case 21:-1<(k=ie(c[c.length-1],P,I))?l=v[k].level:T('Call to undefined terminal "'+c[c.length-1]+'"');break;case 22:-1<(k=ie(c[c.length-1].substr(1,c[c.length-1].length-2).replace(/\\/g,""),P,I))?l=v[k].level:T('Call to undefined terminal "'+c[c.length-1]+'"');break;case 23:l=0;break;case 24:(l=(l=new Array).concat(c[c.length-2])).push(c[c.length-1]);break;case 25:l=new Array;break;case 26:l=-1<(k=ie(c[c.length-1],P,I))?k:fe(c[c.length-1],x,I);break;case 27:var k;-1<(k=ie(c[c.length-1].substr(1,c[c.length-1].length-2).replace(/\\/g,""),P,I))?l=k:T('Call to undefined terminal "'+c[c.length-1]+'"');break;case 28:l=c[c.length-2]+c[c.length-1].substr(2,c[c.length-1].length-4);break;case 29:l=new String;break;case 30:case 31:case 32:l=c[c.length-1]}for(Oe&&Fe("\tPopping "+i[n][1]+" off the stack..."),w=0;w<i[n][1];w++)s.pop(),c.pop();for(a=-1,w=0;w<g[s[s.length-1]].length;w+=2)if(g[s[s.length-1]][w]==i[n][0]){a=g[s[s.length-1]][w+1];break}if(0==n)break;Oe&&Fe("\tPushing non-terminal "+A[i[n][0]]),s.push(a),c.push(l)}Oe&&(alert(je),je=new String)}return Oe&&(Fe("\nParse complete."),alert(je)),h}(e,t,n)))for(tr=0;tr<a;tr++)T(r+", line "+(e.substr(0,t[tr]).match(/\n/g)?e.substr(0,t[tr]).match(/\n/g).length:1)+': Parse error near "'+e.substr(t[tr],30)+(t[tr]+30<e.substr(t[tr]).length?"...":"")+'", expecting "'+n[tr].join()+'"')}function De(e){var r,t,n;for(t=0;t<e.length&&e[t].edge!=D;t++);return t==e.length&&(r=new B,e.push(r)),e[t].edge=p,e[t].ccl=(n=W)<=0?new Array:new Array(Math.ceil(n/8)),e[t].accept=-1,e[t].follow=-1,e[t].follow2=-1,e[t].weight=-1,Ne.push(t),t}var Je=!1,Ge=new String;function He(e){Ge+=e+"\n"}function Ue(e){var r=0,t=-1,n=0,a=0,o=e.offset+1;if(r=0,t=-2,a=--o,e.src.length<=a)return 21;do{switch(r){case 0:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=39||44<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=45||47<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=62||64<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=123||125<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?1:40==e.src.charCodeAt(o)?2:41==e.src.charCodeAt(o)?3:42==e.src.charCodeAt(o)?4:43==e.src.charCodeAt(o)?5:46==e.src.charCodeAt(o)?6:63==e.src.charCodeAt(o)?7:91==e.src.charCodeAt(o)?8:93==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:92==e.src.charCodeAt(o)?13:-1;break;case 1:r=-1,t=12,n=o;break;case 2:r=-1,t=5,n=o;break;case 3:r=-1,t=6,n=o;break;case 4:r=-1,t=2,n=o;break;case 5:r=-1,t=3,n=o;break;case 6:r=-1,t=9,n=o;break;case 7:r=-1,t=4,n=o;break;case 8:r=-1,t=7,n=o;break;case 9:r=-1,t=8,n=o;break;case 10:r=-1,t=1,n=o;break;case 11:r=-1,t=11,n=o;break;case 12:r=48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=10,n=o;break;case 13:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=47||58<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?11:48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=12,n=o}o++}while(-1<r);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function Be(e,r,t){var n,a,o,l=new Array,s=new Array;if(""!=e)if(Ne=new Array,Pe=De(C),0==(o=function(e,r,t){var n,a,o,l,s=new Array,c=new Array,h=0,d=new new Function("","var offset; var src; var att;"),i=new Array(new Array(0,1),new Array(14,1),new Array(13,3),new Array(13,1),new Array(15,2),new Array(15,1),new Array(16,2),new Array(16,2),new Array(16,2),new Array(16,1),new Array(17,1),new Array(17,1),new Array(17,3),new Array(19,3),new Array(19,1),new Array(20,2),new Array(20,0),new Array(18,1),new Array(18,1),new Array(18,1)),f=new Array(new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,0),new Array(1,14,21,-1),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-3,1,-3,6,-3),new Array(21,-5,1,-5,5,-5,10,-5,11,-5,12,-5,7,-5,9,-5,6,-5),new Array(4,16,3,17,2,18,21,-9,1,-9,5,-9,10,-9,11,-9,12,-9,7,-9,9,-9,6,-9),new Array(2,-10,3,-10,4,-10,21,-10,1,-10,5,-10,10,-10,11,-10,12,-10,7,-10,9,-10,6,-10),new Array(2,-11,3,-11,4,-11,21,-11,1,-11,5,-11,10,-11,11,-11,12,-11,7,-11,9,-11,6,-11),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(2,-17,3,-17,4,-17,21,-17,1,-17,5,-17,10,-17,11,-17,12,-17,7,-17,9,-17,6,-17,8,-17),new Array(2,-18,3,-18,4,-18,21,-18,1,-18,5,-18,10,-18,11,-18,12,-18,7,-18,9,-18,6,-18,8,-18),new Array(2,-19,3,-19,4,-19,21,-19,1,-19,5,-19,10,-19,11,-19,12,-19,7,-19,9,-19,6,-19,8,-19),new Array(8,-16,10,-16,11,-16,12,-16),new Array(2,-14,3,-14,4,-14,21,-14,1,-14,5,-14,10,-14,11,-14,12,-14,7,-14,9,-14,6,-14),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,-4,1,-4,5,-4,10,-4,11,-4,12,-4,7,-4,9,-4,6,-4),new Array(21,-8,1,-8,5,-8,10,-8,11,-8,12,-8,7,-8,9,-8,6,-8),new Array(21,-7,1,-7,5,-7,10,-7,11,-7,12,-7,7,-7,9,-7,6,-7),new Array(21,-6,1,-6,5,-6,10,-6,11,-6,12,-6,7,-6,9,-6,6,-6),new Array(1,14,6,22),new Array(8,24,10,9,11,10,12,11),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-2,1,-2,6,-2),new Array(2,-12,3,-12,4,-12,21,-12,1,-12,5,-12,10,-12,11,-12,12,-12,7,-12,9,-12,6,-12),new Array(8,-15,10,-15,11,-15,12,-15),new Array(2,-13,3,-13,4,-13,21,-13,1,-13,5,-13,10,-13,11,-13,12,-13,7,-13,9,-13,6,-13)),g=new Array(new Array(14,1,13,2,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array(13,19,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array(20,20),new Array,new Array(15,21,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array,new Array(18,23),new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array),A=new Array("RegEx'","|","*","+","?","(",")","[","]","ANY_CHAR","ASCII_CODE","ESCAPED_CHAR","ANY","Expression","RegEx","Catenation","Factor","Term","Character","CharacterSet","CharClass","$");for(d.offset=0,d.src=e,d.att=new String,r||(r=new Array),t||(t=new Array),s.push(0),c.push(0),o=Ue(d);;){n=26;for(var w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(Je&&0<s.length&&He("\nState "+s[s.length-1]+"\n\tLookahead: "+A[o]+' ("'+d.att+'")\n\tAction: '+n+'\n\tSource: "'+d.src.substr(d.offset,30)+(d.offset+30<d.src.length?"...":"")+'"\n\tStack: '+s.join()+"\n\tValue stack: "+c.join()+"\n"),26==n){for(Je&&He("Error detected: There is no reduce or shift on the symbol "+A[o]),h++,r.push(d.offset-d.att.length),t.push(new Array),w=0;w<f[s[s.length-1]].length;w+=2)t[t.length-1].push(A[f[s[s.length-1]][w]]);var y=new Array,u=new Array;for(w=0;w<s.length;w++)y[w]=s[w],u[w]=c[w];for(;26==n&&21!=o;){for(Je&&He("\tError recovery\nCurrent lookahead: "+A[o]+" ("+d.att+")\nAction: "+n+"\n\n"),-1==o&&d.offset++;26==n&&0<s.length&&(s.pop(),c.pop(),0!=s.length);)for(n=26,w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(26!=n)break;for(w=0;w<y.length;w++)s.push(y[w]),c.push(u[w]);o=Ue(d)}if(26==n){Je&&He("\tError recovery failed, terminating parse process...");break}Je&&He("\tError recovery succeeded, continuing")}if(0<n)Je&&He("Shifting symbol: "+A[o]+" ("+d.att+")"),s.push(n),c.push(d.att),o=Ue(d),Je&&He("\tNew lookahead symbol: "+A[o]+" ("+d.att+")");else{switch(n*=-1,Je&&He("Reducing by producution: "+n),l=void 0,Je&&He("\tPerforming semantic action..."),n){case 0:l=c[c.length-1];break;case 1:l=new $,C[Pe].follow=c[c.length-1].start,Ie=c[c.length-1].end;break;case 2:(l=new $).start=De(C),l.end=De(C),C[l.start].follow=c[c.length-3].start,C[l.start].follow2=c[c.length-1].start,C[c[c.length-3].end].follow=l.end,C[c[c.length-1].end].follow=l.end;break;case 3:l=c[c.length-1];break;case 4:C[c[c.length-2].end].edge=C[c[c.length-1].start].edge,C[c[c.length-2].end].ccl=C[c[c.length-1].start].ccl,C[c[c.length-2].end].follow=C[c[c.length-1].start].follow,C[c[c.length-2].end].follow2=C[c[c.length-1].start].follow2,C[c[c.length-2].end].accept=C[c[c.length-1].start].accept,C[c[c.length-1].start].edge=D,c[c.length-2].end=c[c.length-1].end,l=c[c.length-2];break;case 5:l=c[c.length-1];break;case 6:(l=new $).start=De(C),l.end=De(C),C[l.start].follow=c[c.length-2].start,C[c[c.length-2].end].follow=l.end,C[l.start].follow2=l.end,C[c[c.length-2].end].follow2=c[c.length-2].start;break;case 7:(l=new $).start=De(C),l.end=De(C),C[l.start].follow=c[c.length-2].start,C[c[c.length-2].end].follow=l.end,C[c[c.length-2].end].follow2=c[c.length-2].start;break;case 8:(l=new $).start=De(C),l.end=De(C),C[l.start].follow=c[c.length-2].start,C[l.start].follow2=l.end,C[c[c.length-2].end].follow=l.end;break;case 9:l=c[c.length-1];break;case 10:(l=new $).start=De(C),l.end=C[l.start].follow=De(C),C[l.start].edge=J,Ce(C[l.start].ccl,c[c.length-1].charCodeAt(0),1);break;case 11:l=c[c.length-1];break;case 12:l=c[c.length-2];break;case 13:var p=!1;if(w=0,(l=new $).start=De(C),l.end=C[l.start].follow=De(C),C[l.start].edge=J,"^"==c[c.length-2].charAt(w)){p=!0;for(var b=k;b<W;b++)Ce(C[l.start].ccl,b,1);w++}for(;w<c[c.length-2].length;w++)if("-"==c[c.length-2].charAt(w+1)&&w+2<c[c.length-2].length)for(w++,b=c[c.length-2].charCodeAt(w-1);b<c[c.length-2].charCodeAt(w+1);b++)Ce(C[l.start].ccl,b,p?0:1);else Ce(C[l.start].ccl,c[c.length-2].charCodeAt(w),p?0:1);break;case 14:for((l=new $).start=De(C),l.end=C[l.start].follow=De(C),C[l.start].edge=J,w=k;w<W;w++)Ce(C[l.start].ccl,w,1);break;case 15:l=new String(c[c.length-2]+c[c.length-1]);break;case 16:l=new String;break;case 17:l=String.fromCharCode(c[c.length-1].substr(1));break;case 18:switch(c[c.length-1].substr(1)){case"n":l="\n";break;case"r":l="\r";break;case"t":l="\t";break;case"a":l="a";break;default:l=c[c.length-1].substr(1)}break;case 19:l=c[c.length-1]}for(Je&&He("\tPopping "+i[n][1]+" off the stack..."),w=0;w<i[n][1];w++)s.pop(),c.pop();for(a=-1,w=0;w<g[s[s.length-1]].length;w+=2)if(g[s[s.length-1]][w]==i[n][0]){a=g[s[s.length-1]][w+1];break}if(0==n)break;Je&&He("\tPushing non-terminal "+A[i[n][0]]),s.push(a),c.push(l)}Je&&(alert(Ge),Ge=new String)}return Je&&(He("\nParse complete."),alert(Ge)),h}(e,l,s))){if(t)for(n=0;n<Ne.length;n++)if(C[Ne[n]].edge==J)for(a=k;a<W;a++)ke(C[Ne[n]].ccl,a)&&(Ce(C[Ne[n]].ccl,String.fromCharCode(a).toUpperCase().charCodeAt(0),1),Ce(C[Ne[n]].ccl,String.fromCharCode(a).toLowerCase().charCodeAt(0),1));if(C[Ie].accept=r,C[Ie].weight=h++,0<Pe){for(n=0;-1!=C[n].follow2;)n=C[n].follow2;C[n].follow2=Pe}}else for(n=0;n<o;n++){var c=new String;for(a=0;a<l[n];a++)c+=" ";T('Regular expression "'+e+'"\n                           '+c+'^\n       expecting "'+s[n].join()+'"')}}function Ye(){var e=new String;e+="usage: jscc [options] filename\n\n",e+="       -h   --help               Print this usage help\n",e+="       -i   --version            Print version and copyright\n",e+="       -o   --output <file>      Save output source to <file>\n",e+="       -p   --prefix <prefix>    Use <prefix> as sequence pre-\n",e+="                                 fixing methods and variables\n",e+="       -t   --template <file>    Use template file <file> as\n",e+="                                 parser template\n",e+="       -v   --verbose            Run in verbose mode\n",s(e+="       -w   --warnings           Print warnings\n")}be(0);for(var $e,qe,Ve=new String,Xe=new String,ze="",Ke=new String,Qe=!1,Ze=!1,er=!1,rr=[],tr=0;tr<rr.length;tr++)if("-o"==rr[tr].toLowerCase()||"--output"==rr[tr].toLowerCase())Ve=rr[++tr];else if("-t"==rr[tr].toLowerCase()||"--template"==rr[tr].toLowerCase())ze=rr[++tr];else if("-p"==rr[tr].toLowerCase()||"--prefix"==rr[tr].toLowerCase())Ke=rr[++tr];else if("-w"==rr[tr].toLowerCase()||"--warnings"==rr[tr].toLowerCase())!0;else if("-v"==rr[tr].toLowerCase()||"--verbose"==rr[tr].toLowerCase())er=!0;else if("-d"==rr[tr].toLowerCase()||"--debug"==rr[tr].toLowerCase()){for(var nr=0;nr<rr[tr+1].length;nr++)switch(rr[tr+1].charAt(nr)){case"n":Qe=!0;break;case"d":Ze=!0}tr++}else"-i"==rr[tr].toLowerCase()||"--version"==rr[tr].toLowerCase()?(qe=void 0,qe=new String,qe+="JS/CC v"+A+": A LALR(1) Parser and Lexer Generator written in JavaScript\n",qe+="Copyright (C) 2007, 2008 by J.M.K S.F. Software Technologies,Jan Max Meyer\n",qe+="http://jscc.jmksf.com ++ jscc@jmksf.com\n\n",qe+="You may use, modify and distribute this software under the terms and conditions\n",s(qe+="of the Artistic License. Please see ARTISTIC for more information.\n"),e(0)):"-h"==rr[tr].toLowerCase()||"--help"==rr[tr].toLowerCase()?(Ye(),e(0)):""==Xe&&(Xe=rr[tr]);if(""!=Xe){if(We(read_file(Xe),Xe),0==a&&(ve(),_e(),0==a&&(V(),ue(!1),function(){var e;for(e=0;e<d.length;e++)0==d[e].actionrow.length&&T("No lookaheads in state "+e+", watch for endless list definitions")}(),0==a))){Qe&&function(e){s("Pos\tType\t\tfollow\t\tfollow2\t\taccept"),s("-------------------------------------------------------------------");for(var r=0;r<e.length;r++)if(s(r+"\t"+(C[r].edge==D?"FREE":C[r].edge==p?"EPSILON":"CHAR")+"\t\t"+(C[r].edge!=D&&-1<C[r].follow?C[r].follow:"")+"\t\t"+(C[r].edge!=D&&-1<C[r].follow2?C[r].follow2:"")+"\t\t"+(C[r].edge!=D&&-1<C[r].accept?C[r].accept:"")),C[r].edge==J){for(var t=new String,n=k;n<W;n++)ke(C[r].ccl,n)&&10==(t+=String.fromCharCode(n)).length&&(s("\t"+t),t="");0<t.length&&s("\t"+t)}s("")}(C),$e=xe($e=Te(C)),Ze&&function(e){for(var r=new String,t=0,n=0;n<e.length;n++){r=n+" => (";for(var a=t=0;a<e[n].line.length;a++)-1<e[n].line[a]&&(r+=" >"+String.fromCharCode(a)+"<,"+e[n].line[a]+" ",++t%5==0&&(r+="\n      "));r+=") "+e[n].accept,s(r)}}($e);var ar=read_file(ze);ar=(ar=(ar=(ar=(ar=(ar=(ar=(ar=(ar=(ar=(ar=ar.replace(/##HEADER##/gi,S)).replace(/##TABLES##/gi,z(1))).replace(/##DFA##/gi,K($e))).replace(/##TERMINAL_ACTIONS##/gi,Z())).replace(/##LABELS##/gi,Q())).replace(/##ACTIONS##/gi,ee())).replace(/##FOOTER##/gi,E)).replace(/##PREFIX##/gi,Ke)).replace(/##ERROR##/gi,te())).replace(/##EOF##/gi,re())).replace(/##WHITESPACE##/gi,ne()),""!=Ve?write_file(Ve,ar):s(ar),er&&s('"'+Xe+'" produced '+d.length+" states ("+i+" shifts, "+c+" reductions, "+f+" gotos)")}er&&s(o+" warning"+(1<o?"s":"")+", "+a+" error"+(1<a?"s":""))}else Ye();return e(a),{reset_all:be,EXEC_WEB:1,MODE_GEN_JS:1,parse_grammar:We,undef:ve,unreachable:_e,first:V,print_symbols:function(e){e==u?(s('<table class="debug" cellpadding="0" cellspacing="0">'),s("<tr>"),s('<td class="tabtitle" colspan="3">Symbols Overview</td>'),s("</tr>"),s("<tr>"),s('<td class="coltitle">Symbol</td>'),s('<td class="coltitle">Type</td>'),s("</tr>")):e==y&&s("--- Symbol Dump ---");for(var r=0;r<v.length;r++)if(e==u)s("<tr>"),s("<td>"),s(v[r].label),s("</td>"),s("<td>"),s(v[r].kind==x?"Non-terminal":"Terminal"),s("</td>");else if(e==y){for(var t=new String,n=(t=v[r].label).length;n<20;n++)t+=" ";if(t+=v[r].kind==x?"Non-terminal":"Terminal",v[r].kind==P){for(n=t.length;n<40;n++)t+=" ";switch(t+=v[r].level+"/",v[r].assoc){case w:t+="^";break;case O:t+="<";break;case j:t+=">"}}s(t)}e==u?s("</table>"):e==y&&s("")},create_subset:Te,get_nfa_states:function(){return C},get_dfa_table:function(){return $e},set_dfa_table:function(e){return $e=e},minimize_dfa:xe,lalr1_parse_table:ue,getErrors:function(){return a},getWarnings:function(){return o},resetErrors:function(){a=0},resetWarnings:function(){o=0},get_code_head:function(){return S},print_parse_tables:z,print_dfa_table:K,print_term_actions:Z,print_symbol_labels:Q,print_actions:ee,get_error_symbol_id:te,get_eof_symbol_id:re,get_whitespace_symbol_id:ne,set_printError:function(e){T=e},set_printWarning:function(e){g=e},set_printInfo:function(e){s=e},get_printError:function(){return T},get_printWarning:function(){return g},get_printInfo:function(){return s},is_printError_default:function(){return T===r},is_printWarning_default:function(){return g===t},is_printInfo_default:function(){return s===n}}});
//# sourceMappingURL=jscc-amd.min.js.map